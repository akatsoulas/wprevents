<div class="pagination">
{% if total_pages > 1 %}
  <span class="step-links">
  {% if has_previous %}
    <a href="?page={{ previous }}">&lt; Prev</a>
  {% endif %}

  {% if show_first %}
    <a href="?page=1">1</a>
    <span class="ellipsis">...</span>
  {% endif %}

  {% for linkpage in page_numbers %}
    {% if linkpage == current_page %}
    <span class="current">{{ current_page }}</span>
    {% else %}
    <a href="?page={{ linkpage }}">{{ linkpage }}</a>
    {% endif %}
  {% endfor %}

  {% if show_last %}
    <span class="ellipsis">...</span>
    <a href="?page={{ total_pages }}">{{ total_pages }}</a>
  {% endif %}

  {% if has_next %}
    <a href="?page={{ next }}">Next &gt;</a>
  {% endif %}
  </span>
{% else %}
  <span class="current">{{ current_page }}</span>
{% endif %}
</div>