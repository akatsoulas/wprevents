{% extends 'main.html' %}

{% block content %}
<div class="width-container">
  <div class="billboard filters-container">
    <form id="filters-form">
      <div class="column col-5">
        <input type="text" name="search" placeholder="Filter using any keyword" id="keyword-filter" class="js-filter">
      </div>

      <div class="column col-5 select-fields">
        <select name="space" id="space-filter" class="js-filter">
          <option value="" default>All spaces</option>
          {% for space in spaces %}
          <option value="{{ space.slug }}">{{ space.name }}</option>
          {% endfor %}
        </select>

        <select name="area" id="area-filter" class="js-filter">
          <option value="" default>All types</option>
          {% for area in areas %}
          <option value="{{ area.slug }}">{{ area.name }}</option>
          {% endfor %}
        </select>

        <input type="text" name="start-date" id="start-date-filter" class="js-filter js-datepicker" placeholder="Start date">
        <input type="text" name="end-date" id="end-date-filter" class="js-filter js-datepicker" placeholder="End date">
      </div>

      <div class="column col-2">
        <input type="submit" value="Search" class="button fill-width filter-submit-button">
      </div>
    </form>
  </div>
</div>

<div class="width-container">
  <ul class="event-list">
  {% for event in events %}
    <li class="event row">
      <div class="event-date column col-2">
        <div class="day">{{ event.start_day }}</div>
        <div class="monthyear">
          <div class="month">{{ event.start_month }}</div>
          <div class="year">{{ event.start.year }}</div>
        </div>
        {# event.start #}
      </div>
      <div class="event-info column col-8">
        <a class="event-name" href="{{ url('event_one', slug=event.slug) }}">{{ event.title }}</a>
        <div class="event-description">
          {% if event.description %}
          <p>{{ event.description }}</p>
          {% else %}
          <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur non vehicula libero, eu sodales velit.</p>
          {% endif %}
        </div>
      </div>
      <div class="event-meta column col-2">
        <div class="event-space">{{ event.space }}</div>
        <div class="event-areas count-{{ event.areas.all().count() }}">
          {% for area in event.areas.all() %}
          <div class="event-area {{ area.color }}">{{ area.name }}</div>
          {% endfor %}
        </div>
      </div>
    </li>
  {% endfor %}
  </ul>
</div>
{% endblock %}